<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

    /**
 * // Definition for a Node.
 * function Node(val, neighbors) {
 *    this.val = val === undefined ? 0 : val;
 *    this.neighbors = neighbors === undefined ? [] : neighbors;
 * };
 */

/**
 * @param {Node} node
 * @return {Node}
 */
//  var cloneGraph = function(node) {
//    const map = new Map()
//    const dfs = (n)=>{
//        if(!n){
//            return n
//        }
//        let newNode = map.get(n)
//        if(newNode){
//            return newNode
//        }
//        newNode = new Node(n.val)
//        map.set(n,newNode)
//        n.neighbors.forEach(d=>{
//            newNode.neighbors.push(dfs(d))
//        })
//        return newNode
//    }
//   return dfs(node)
// };

var cloneGraph = function(node) {
    if(!node){
        return null
    }
    const map = new Map()
    const stack = [node];
    map.set(node.val,new Node(node.val,[]))
    while(stack.length){
        const _node = stack.pop()
        const newNode = map.get(_node.val)
        _node.neighbors.forEach(neighbor=>{
            let _newNode = map.get(neighbor.val)
            if(!_newNode){
                stack.push(neighbor)
                _newNode = new Node(neighbor.val,[])
                map.set(neighbor.val,_newNode)
            }
            newNode.neighbors.push(_newNode)
        })
    }
    return map.get(node.val)
};


  </script>
</body>
</html>
